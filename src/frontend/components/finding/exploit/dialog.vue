<template>
  <v-dialog width="100%" fullscreen>
    <template #activator="{ props: activatorProps }">
      <UtilsCounterButton
        :collection="
          technology !== null ? technology.exploit : vulnerability.exploit
        "
        :icon="enums.findings.Exploit.icon"
        size="x-large"
        tooltip="Exploits"
        variant="plain"
        show-zero
        v-bind="activatorProps"
      />
    </template>
    <template #default="{ isActive }">
      <BaseDialog
        title="Exploits"
        :icon="enums.findings.Exploit.icon"
        icon-color="red"
        @close-dialog="isActive.value = false"
      >
        <FindingPage
          :page="FindingExploitPage"
          :technology="technology"
          :vulnerability="vulnerability"
        />
      </BaseDialog>
    </template>
  </v-dialog>
</template>

<script setup lang="ts">
defineProps({
  technology: { type: Object, required: false, default: null },
  vulnerability: { type: Object, required: false, default: null },
});
const enums = useEnums();
const FindingExploitPage = resolveComponent("FindingExploitPage");
</script>
