<template>
  <v-btn
    icon
    hover
    color="red"
    variant="text"
    :to="`/projects/${route.params.project_id}/findings?tab=vulnerabilities&host=${port.host}&port=${port.id}`"
  >
    <v-badge
      floating
      :content="
        port.vulnerability.length < 1000
          ? port.vulnerability.length
          : Math.floor(port.vulnerability.length / 1000).toString() + 'k'
      "
    >
      <v-icon icon="mdi-ladybug" size="x-large" />
    </v-badge>
    <v-tooltip activator="parent" text="Vulnerabilities" />
  </v-btn>
</template>

<script setup lang="ts">
defineProps({ port: Object });
const route = useRoute();
</script>
