<template>
  <v-dialog width="100%" fullscreen>
    <template #activator="{ props: activatorProps }">
      <UtilsCounter
        :collection="
          technology !== null ? technology.exploit : vulnerability.exploit
        "
        :icon="enums.findings.Exploit.icon"
        size="x-large"
        tooltip="Exploits"
        variant="plain"
        show-zero
        v-bind="activatorProps"
      />
      <!-- <v-btn
        icon
        variant="text"
        
        color="red"
        v-bind="activatorProps"
      >
        <v-icon size="x-large" :icon="enums.findings.Exploit.icon" />
        <v-tooltip activator="parent" text="Exploits"/>
      </v-btn> -->
    </template>
    <template #default="{ isActive }">
      <Dialog
        title="Exploits"
        :icon="enums.findings.Exploit.icon"
        icon-color="red"
        @close-dialog="isActive.value = false"
      >
        <FindingPage
          :page="FindingPageExploits"
          :technology="technology"
          :vulnerability="vulnerability"
        />
      </Dialog>
    </template>
  </v-dialog>
</template>

<script setup lang="ts">
defineProps({
  technology: { type: Object, required: false, default: null },
  vulnerability: { type: Object, required: false, default: null },
});
const enums = useEnums();
const FindingPageExploits = resolveComponent("FindingPageExploits");
</script>
